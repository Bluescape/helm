apiVersion: v1
kind: ConfigMap
metadata:
  name: k8s-worker-dashboard

  labels:
    {{- include "bluescape-monitoring-dashboards.labels" . | nindent 4 }}
data:
  k8s-worker-dashboard.json: |-
        {
          "annotations": {
            "list": [
              {
                "builtIn": 1,
                "datasource": {
                  "type": "prometheus",
                  "uid": "PBFA97CFB590B2093"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
              }
            ]
          },
          "editable": true,
          "fiscalYearStartMonth": 0,
          "graphTooltip": 0,
          "id": 96,
          "links": [],
          "liveNow": false,
          "panels": [
            {
              "collapsed": false,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
              },
              "id": 56,
              "panels": [],
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "refId": "A"
                }
              ],
              "title": "Worker Service Health",
              "type": "row"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "mappings": [
                    {
                      "options": {
                        "match": "null",
                        "result": {
                          "text": "N/A"
                        }
                      },
                      "type": "special"
                    }
                  ],
                  "max": 2000,
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 999
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 5,
                "w": 3,
                "x": 0,
                "y": 1
              },
              "id": 54,
              "links": [],
              "options": {
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "showThresholdLabels": false,
                "showThresholdMarkers": true
              },
              "pluginVersion": "9.3.6",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "editorMode": "code",
                  "expr": "sum(pending_jobs_count{namespace=~\"${namespace}\"})",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Current Pending Jobs",
              "type": "gauge"
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "type": "prometheus",
                "uid": "$Source"
              },
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 5,
                "w": 21,
                "x": 3,
                "y": 1
              },
              "hiddenSeries": false,
              "id": 58,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 2,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "editorMode": "code",
                  "expr": "sum(pending_jobs_count{namespace=~\"${namespace}\"}) by (pod, namespace)",
                  "legendFormat": "",
                  "range": true,
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Pending Worker Jobs (Per Pod)",
              "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "collapsed": false,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 6
              },
              "id": 65,
              "panels": [],
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "refId": "A"
                }
              ],
              "title": "Worker Pod State (\"Paused\" or \"Working\")",
              "type": "row"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "mappings": [
                    {
                      "options": {
                        "0": {
                          "text": "Working"
                        },
                        "1": {
                          "text": "Paused"
                        }
                      },
                      "type": "value"
                    },
                    {
                      "options": {
                        "match": "null",
                        "result": {
                          "text": "N/A"
                        }
                      },
                      "type": "special"
                    }
                  ],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "#299c46",
                        "value": null
                      },
                      {
                        "color": "#C4162A",
                        "value": 1
                      },
                      {
                        "color": "#d44a3a"
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 2,
                "w": 6,
                "x": 0,
                "y": 7
              },
              "id": 69,
              "links": [],
              "maxDataPoints": 100,
              "options": {
                "colorMode": "background",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "textMode": "auto"
              },
              "pluginVersion": "9.3.6",
              "repeat": "pod",
              "repeatDirection": "h",
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "editorMode": "code",
                  "expr": "min(workerStatus{pod=~\"${pod}\"})",
                  "instant": true,
                  "intervalFactor": 2,
                  "legendFormat": "pod",
                  "refId": "A"
                }
              ],
              "title": "Worker State: $pod",
              "type": "stat"
            },
            {
              "collapsed": false,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 11
              },
              "id": 67,
              "panels": [],
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "refId": "A"
                }
              ],
              "title": "Worker Metrics",
              "type": "row"
            },
            {
              "aliasColors": {
                "AWS S3 Failure": "dark-red",
                "AWS S3 Request Count": "dark-blue",
                "AWS S3 Success": "dark-green",
                "Failure": "dark-red",
                "Requests": "dark-blue",
                "Success": "light-green"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 24,
                "x": 0,
                "y": 12
              },
              "hiddenSeries": false,
              "id": 52,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 1,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 2,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "editorMode": "code",
                  "expr": "avg(irate(worker_aws_request_count{namespace=~\"${namespace}\"}[1m])) by (service)",
                  "legendFormat": "Requests",
                  "range": true,
                  "refId": "A"
                },
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "editorMode": "code",
                  "expr": "avg(irate(worker_aws_success{namespace=~\"${namespace}\"}[1m])) by (service)",
                  "legendFormat": "Success",
                  "range": true,
                  "refId": "B"
                },
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "editorMode": "code",
                  "expr": "avg(irate(worker_aws_failure{namespace=~\"${namespace}\"}[1m])) by (service)",
                  "legendFormat": "Failure",
                  "range": true,
                  "refId": "C"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "AWS S3 Storage Service Requests",
              "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 12,
                "x": 0,
                "y": 18
              },
              "hiddenSeries": false,
              "id": 48,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 2,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "nodejs_eventloop_lag_seconds{service=\"worker\", namespace=~\"${namespace}\"}",
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Node.JS Event Loop Lag",
              "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "s",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 12,
                "x": 12,
                "y": 18
              },
              "hiddenSeries": false,
              "id": 60,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 2,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "editorMode": "code",
                  "expr": "avg(nodejs_heap_space_size_used_bytes{service=\"worker\", namespace=~\"${namespace}\"}) \n/ (avg(nodejs_heap_space_size_total_bytes{service=\"worker\", namespace=~\"${namespace}\"})) * 100",
                  "legendFormat": "",
                  "range": true,
                  "refId": "B"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Node.JS % Heap Space Usage",
              "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "percent",
                  "logBase": 1,
                  "max": "100",
                  "min": "0",
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "columns": [],
              "datasource": {
                "uid": "$Source"
              },
              "fontSize": "100%",
              "gridPos": {
                "h": 6,
                "w": 8,
                "x": 0,
                "y": 24
              },
              "id": 62,
              "pluginVersion": "6.5.2",
              "showHeader": true,
              "sort": {
                "col": 1,
                "desc": false
              },
              "styles": [
                {
                  "alias": "Time",
                  "align": "auto",
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "pattern": "Time",
                  "type": "hidden"
                },
                {
                  "alias": "Bluescape Instance",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "decimals": 2,
                  "pattern": "namespace",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Worker Restarts",
                  "align": "auto",
                  "colorMode": "value",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 0,
                  "mappingType": 1,
                  "pattern": "Value #A",
                  "thresholds": [
                    "1",
                    "10"
                  ],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Msdoc-Converter Restarts",
                  "align": "auto",
                  "colorMode": "value",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 0,
                  "mappingType": 1,
                  "pattern": "Value #B",
                  "thresholds": [
                    "1",
                    "10"
                  ],
                  "type": "number",
                  "unit": "short"
                }
              ],
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "sum(kube_pod_container_status_restarts_total{container=~\"worker\", namespace=~\"${namespace}\"}) by (namespace)",
                  "format": "table",
                  "instant": true,
                  "legendFormat": "",
                  "refId": "A"
                },
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "sum(kube_pod_container_status_restarts_total{container=~\"msdoc-converter\", namespace=~\"${namespace}\"}) by (namespace)",
                  "format": "table",
                  "instant": true,
                  "legendFormat": "",
                  "refId": "B"
                }
              ],
              "title": "Container Restarts (per namespace)",
              "transform": "table",
              "type": "table-old"
            },
            {
              "columns": [],
              "datasource": {
                "uid": "$Source"
              },
              "fontSize": "100%",
              "gridPos": {
                "h": 6,
                "w": 16,
                "x": 8,
                "y": 24
              },
              "id": 63,
              "pluginVersion": "6.5.2",
              "showHeader": true,
              "sort": {
                "col": 1,
                "desc": false
              },
              "styles": [
                {
                  "alias": "Time",
                  "align": "auto",
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "pattern": "Time",
                  "type": "hidden"
                },
                {
                  "alias": "Bluescape Instance",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "decimals": 2,
                  "link": true,
                  "linkTargetBlank": true,
                  "linkTooltip": "Compute Resources Namespace Dashboard ($__cell_1)",
                  "linkUrl": "./d/85a562078cdf77779eaa1add43ccec1e/kubernetes-compute-resources-namespace-pods?orgId=1&refresh=10s&var-datasource=$Source&var-namespace=$__cell_1",
                  "pattern": "namespace",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Worker Restarts",
                  "align": "auto",
                  "colorMode": "value",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 0,
                  "mappingType": 1,
                  "pattern": "Value #A",
                  "thresholds": [
                    "1",
                    "10"
                  ],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Msdoc-Converter Restarts",
                  "align": "auto",
                  "colorMode": "value",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 0,
                  "mappingType": 1,
                  "pattern": "Value #B",
                  "thresholds": [
                    "1",
                    "10"
                  ],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Pod",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "link": true,
                  "linkTargetBlank": true,
                  "linkTooltip": "Compute Resources Pod Dashboard ($__cell_2)",
                  "linkUrl": "./d/6581e46e4e5c7ba40a07646395ef7b23/kubernetes-compute-resources-pod?orgId=1&refresh=30s&var-datasource=$Source&var-cluster=&var-namespace=$__cell_1&var-pod=$__cell_2",
                  "mappingType": 1,
                  "pattern": "pod",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                }
              ],
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "sum(kube_pod_container_status_restarts_total{container=~\"worker\", namespace=~\"${namespace}\"}) by (pod, namespace)",
                  "format": "table",
                  "instant": true,
                  "legendFormat": "",
                  "refId": "A"
                },
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "sum(kube_pod_container_status_restarts_total{container=~\"msdoc-converter\", namespace=~\"${namespace}\"}) by (pod, namespace)",
                  "format": "table",
                  "instant": true,
                  "legendFormat": "",
                  "refId": "B"
                }
              ],
              "title": "Container Restarts (per pod)",
              "transform": "table",
              "type": "table-old"
            },
            {
              "collapsed": false,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 30
              },
              "id": 44,
              "panels": [],
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "refId": "A"
                }
              ],
              "title": "List of Running Worker Pods",
              "type": "row"
            },
            {
              "columns": [
                {
                  "text": "Current",
                  "value": "current"
                }
              ],
              "datasource": {
                "uid": "$Source"
              },
              "fontSize": "100%",
              "gridPos": {
                "h": 9,
                "w": 6,
                "x": 0,
                "y": 31
              },
              "id": 46,
              "links": [],
              "pluginVersion": "6.5.2",
              "showHeader": true,
              "sort": {
                "col": 0,
                "desc": false
              },
              "styles": [
                {
                  "alias": "Time",
                  "align": "auto",
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "pattern": "Time",
                  "type": "date"
                },
                {
                  "alias": "",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Node",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "decimals": 2,
                  "link": false,
                  "linkTooltip": "Compute Resources Node Dashboard ($__cell_1)",
                  "linkUrl": "./d/200ac8fdbfbb74b39aff88118e4d1c2c/kubernetes-compute-resources-node-pods?orgId=1&refresh=10s&var-datasource=$Source&var-node=$__cell_1",
                  "pattern": "Metric",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                }
              ],
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "count(kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"}) by (node)",
                  "instant": true,
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "title": "Total Count - Worker Pods Per Node",
              "transform": "timeseries_aggregations",
              "type": "table-old"
            },
            {
              "columns": [],
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "fontSize": "100%",
              "gridPos": {
                "h": 9,
                "w": 18,
                "x": 6,
                "y": 31
              },
              "id": 42,
              "links": [],
              "pageSize": 500,
              "scroll": true,
              "showHeader": true,
              "sort": {
                "col": 3,
                "desc": false
              },
              "styles": [
                {
                  "alias": "Time",
                  "align": "auto",
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "pattern": "Time",
                  "type": "hidden"
                },
                {
                  "alias": "Worker State",
                  "align": "auto",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "#37872D",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value",
                  "thresholds": [
                    "0",
                    "1"
                  ],
                  "type": "string",
                  "unit": "short",
                  "valueMaps": [
                    {
                      "text": "Working",
                      "value": "0"
                    },
                    {
                      "text": "Paused",
                      "value": "1"
                    }
                  ]
                },
                {
                  "alias": "Pod Name",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "link": true,
                  "linkTargetBlank": true,
                  "linkTooltip": "Compute Resources Pod Dashboard ($__cell_4)",
                  "linkUrl": "./d/6581e46e4e5c7ba40a07646395ef7b23/kubernetes-compute-resources-pod?orgId=1&refresh=30s&var-datasource=$Source&var-cluster=&var-namespace=$__cell_2&var-pod=$__cell_4",
                  "mappingType": 1,
                  "pattern": "pod",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Namespace / Project",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "link": true,
                  "linkTargetBlank": true,
                  "linkTooltip": "Compute Resources Namespace Dashboard ($__cell_2)",
                  "linkUrl": "./d/85a562078cdf77779eaa1add43ccec1e/kubernetes-compute-resources-namespace-pods?orgId=1&refresh=10s&var-datasource=$Source&var-namespace=$__cell_2",
                  "mappingType": 1,
                  "pattern": "namespace",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Node",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "link": true,
                  "linkTargetBlank": true,
                  "linkTooltip": "Compute Resources Node Dashboard ($__cell_1)",
                  "linkUrl": "./d/200ac8fdbfbb74b39aff88118e4d1c2c/kubernetes-compute-resources-node-pods?orgId=1&refresh=10s&var-datasource=$Source&var-node=$__cell_1",
                  "mappingType": 1,
                  "pattern": "kubernetes_io_hostname",
                  "thresholds": [],
                  "type": "string",
                  "unit": "short"
                },
                {
                  "alias": "",
                  "align": "auto",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "decimals": 2,
                  "pattern": "/.*/",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                }
              ],
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "editorMode": "code",
                  "expr": "sum(workerStatus{namespace=~\"${namespace}\", service=\"worker\"}) by (pod, namespace, kubernetes_io_hostname)",
                  "format": "table",
                  "instant": true,
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "title": "Worker Pod States",
              "transform": "table",
              "type": "table-old"
            },
            {
              "collapsed": false,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 40
              },
              "id": 6,
              "panels": [],
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "refId": "A"
                }
              ],
              "title": "Node Stats",
              "type": "row"
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "description": "Looking at time since system boot timestamp",
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 12,
                "x": 0,
                "y": 41
              },
              "hiddenSeries": false,
              "id": 33,
              "interval": "",
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": true,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "time() - node_boot_time_seconds{node_name=~'${node_name}'} and on(node_name) (kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"})",
                  "legendFormat": "",
                  "refId": "B"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Node System Uptime",
              "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "dtdurations",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 12,
                "x": 12,
                "y": 41
              },
              "hiddenSeries": false,
              "id": 2,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": false,
                "hideZero": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 2,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "rate(kube_node_status_condition{condition=\"Ready\", status=\"true\"}[5m]) and on(node_name) (kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"})",
                  "instant": false,
                  "intervalFactor": 5,
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Node Rate Worker Node Goes Online/Offline",
              "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "description": "Taken from prometheus alerts, focused only on dev-logger01 with no constraint on load value",
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 12,
                "x": 0,
                "y": 47
              },
              "hiddenSeries": false,
              "id": 25,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "(avg by(node_name) (irate(node_cpu_seconds_total{node_name=~'${node_name}',mode=\"iowait\"}[1m])) * 100) and on(node_name) (kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"})",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Node CPU IOWAIT",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "percent",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "description": "Taken from prometheus alerts, focused only on dev-logger01 with no constraint on load value",
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 12,
                "x": 12,
                "y": 47
              },
              "hiddenSeries": false,
              "id": 27,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "(100 - (avg by(node_name) (irate(node_cpu_seconds_total{node_name=~'${node_name}',mode=\"idle\"}[1m])) * 100)) and on(node_name) (kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"})",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Node % CPU",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "percent",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 7,
                "w": 12,
                "x": 0,
                "y": 53
              },
              "hiddenSeries": false,
              "id": 29,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "((node_memory_MemTotal_bytes{node_name=~'${node_name}'} - node_memory_MemAvailable_bytes{node_name=~'${node_name}'}) / node_memory_MemTotal_bytes{node_name=~'${node_name}'} * 100) and on(node_name) (kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"})",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Node % Memory Used",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "percent",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "description": "CPU Load Average of 1min",
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 7,
                "w": 12,
                "x": 12,
                "y": 53
              },
              "hiddenSeries": false,
              "id": 31,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "node_load1{node_name=~'${node_name}'} and on(node_name) (kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"})",
                  "format": "time_series",
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Node Load Avg (1 min)",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "percent",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 24,
                "x": 0,
                "y": 60
              },
              "hiddenSeries": false,
              "id": 35,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "avg by(node_name) (irate(node_disk_read_bytes_total{node_name=~'${node_name}'} [1m])) and on(node_name) (kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"}) / 1024",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
                },
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "(avg by(node_name) (irate(node_disk_written_bytes_total{node_name=~'${node_name}'} [1m])) and on(node_name) (kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"}) / 1024)",
                  "format": "time_series",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "B"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Node Total Disk Reads / Writes (kbps)",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "Kbits",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "collapsed": false,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 66
              },
              "id": 37,
              "panels": [],
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "refId": "A"
                }
              ],
              "title": "Worker Pod Network Stats",
              "type": "row"
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 24,
                "x": 0,
                "y": 67
              },
              "hiddenSeries": false,
              "id": 39,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "(sum(rate(container_network_receive_bytes_total{node_name=~'${node_name}',namespace=~\"${namespace}\", pod=~\".*worker.*\"}[5m])) by (pod, namespace))/1024",
                  "interval": "",
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Pod Received Network Traffic per Container",
              "tooltip": {
                "shared": false,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "deckbytes",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": {
                "uid": "$Source"
              },
              "fieldConfig": {
                "defaults": {
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 6,
                "w": 24,
                "x": 0,
                "y": 73
              },
              "hiddenSeries": false,
              "id": 40,
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "9.3.6",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "datasource": {
                    "uid": "$Source"
                  },
                  "expr": "(sum(rate(container_network_transmit_bytes_total{node_name=~'${node_name}',namespace=~\"${namespace}\", pod=~\".*worker.*\"}[5m])) by (pod, namespace))/1024",
                  "interval": "",
                  "legendFormat": "",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeRegions": [],
              "title": "Worker Pod Transmit Network Traffic per Container",
              "tooltip": {
                "shared": false,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "mode": "time",
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "deckbytes",
                  "logBase": 1,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false
              }
            },
            {
              "collapsed": true,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 79
              },
              "id": 8,
              "panels": [
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": {
                    "uid": "$Source"
                  },
                  "fill": 1,
                  "fillGradient": 0,
                  "gridPos": {
                    "h": 5,
                    "w": 24,
                    "x": 0,
                    "y": 74
                  },
                  "hiddenSeries": false,
                  "id": 4,
                  "legend": {
                    "alignAsTable": true,
                    "avg": false,
                    "current": true,
                    "max": false,
                    "min": false,
                    "rightSide": true,
                    "show": true,
                    "sideWidth": 450,
                    "sort": "current",
                    "sortDesc": true,
                    "total": false,
                    "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "options": {
                    "dataLinks": []
                  },
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "datasource": {
                        "uid": "$Source"
                      },
                      "expr": "(sum by (pod, namespace, node_name) (rate(container_cpu_usage_seconds_total{node_name=~'${node_name}', namespace=~\"${namespace}\", container=\"worker\"}[1m]))) * 100",
                      "format": "time_series",
                      "hide": false,
                      "instant": false,
                      "interval": "",
                      "intervalFactor": 1,
                      "legendFormat": "",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeRegions": [],
                  "title": "Worker CPU Usage per Container per core",
                  "tooltip": {
                    "shared": false,
                    "sort": 2,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "mode": "time",
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "format": "percent",
                      "logBase": 1,
                      "show": true
                    },
                    {
                      "format": "short",
                      "logBase": 1,
                      "show": false
                    }
                  ],
                  "yaxis": {
                    "align": false
                  }
                },
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": {
                    "uid": "$Source"
                  },
                  "decimals": 2,
                  "fill": 1,
                  "fillGradient": 0,
                  "gridPos": {
                    "h": 5,
                    "w": 24,
                    "x": 0,
                    "y": 79
                  },
                  "hiddenSeries": false,
                  "id": 10,
                  "legend": {
                    "alignAsTable": true,
                    "avg": true,
                    "current": true,
                    "max": true,
                    "min": true,
                    "rightSide": true,
                    "show": true,
                    "sideWidth": 585,
                    "sort": "current",
                    "sortDesc": true,
                    "total": false,
                    "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "options": {
                    "dataLinks": []
                  },
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "datasource": {
                        "uid": "$Source"
                      },
                      "expr": "sum((container_memory_usage_bytes{node_name=~'${node_name}',namespace=~\"${namespace}\", container=~\"worker\"})/1024/1024) by (pod, namespace)",
                      "interval": "",
                      "legendFormat": "",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeRegions": [],
                  "title": "Worker Memory per Container",
                  "tooltip": {
                    "shared": false,
                    "sort": 2,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "mode": "time",
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "format": "decmbytes",
                      "logBase": 1,
                      "show": true
                    },
                    {
                      "format": "short",
                      "logBase": 1,
                      "show": true
                    }
                  ],
                  "yaxis": {
                    "align": false
                  }
                },
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": {
                    "uid": "$Source"
                  },
                  "fill": 1,
                  "fillGradient": 0,
                  "gridPos": {
                    "h": 5,
                    "w": 24,
                    "x": 0,
                    "y": 84
                  },
                  "hiddenSeries": false,
                  "id": 12,
                  "legend": {
                    "alignAsTable": true,
                    "avg": true,
                    "current": true,
                    "max": true,
                    "min": true,
                    "rightSide": true,
                    "show": true,
                    "sideWidth": 510,
                    "sort": "avg",
                    "sortDesc": true,
                    "total": false,
                    "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "options": {
                    "dataLinks": []
                  },
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "datasource": {
                        "uid": "$Source"
                      },
                      "expr": "(sum(rate(container_fs_reads_bytes_total{node_name=~'${node_name}',namespace=~\"${namespace}\", container=\"worker\"}[1m])) by (pod, namespace))/1024",
                      "interval": "",
                      "legendFormat": "",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeRegions": [],
                  "title": "Worker Container Disk Reads (kbps)",
                  "tooltip": {
                    "shared": false,
                    "sort": 2,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "mode": "time",
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "format": "deckbytes",
                      "logBase": 1,
                      "show": true
                    },
                    {
                      "format": "short",
                      "logBase": 1,
                      "show": true
                    }
                  ],
                  "yaxis": {
                    "align": false
                  }
                },
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": {
                    "uid": "$Source"
                  },
                  "fill": 1,
                  "fillGradient": 0,
                  "gridPos": {
                    "h": 5,
                    "w": 24,
                    "x": 0,
                    "y": 89
                  },
                  "hiddenSeries": false,
                  "id": 14,
                  "legend": {
                    "alignAsTable": true,
                    "avg": true,
                    "current": true,
                    "max": true,
                    "min": true,
                    "rightSide": true,
                    "show": true,
                    "sideWidth": 510,
                    "total": false,
                    "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "options": {
                    "dataLinks": []
                  },
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "datasource": {
                        "uid": "$Source"
                      },
                      "expr": "(sum(rate(container_fs_writes_bytes_total{node_name=~'${node_name}',namespace=~\"${namespace}\", container=\"worker\"}[1m])) by (pod, namespace))/1024",
                      "interval": "",
                      "legendFormat": "",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeRegions": [],
                  "title": "Worker Container Disk Writes (kbps)",
                  "tooltip": {
                    "shared": false,
                    "sort": 2,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "mode": "time",
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "format": "deckbytes",
                      "logBase": 1,
                      "show": true
                    },
                    {
                      "format": "short",
                      "logBase": 1,
                      "show": true
                    }
                  ],
                  "yaxis": {
                    "align": false
                  }
                }
              ],
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PBFA97CFB590B2093"
                  },
                  "refId": "A"
                }
              ],
              "title": "Worker Container Stats",
              "type": "row"
            }
          ],
          "refresh": "30s",
          "schemaVersion": 37,
          "style": "dark",
          "tags": [
            "bluescape",
            "worker",
            "k8s"
          ],
          "templating": {
            "list": [
              {
                "current": {
                  "selected": false,
                  "text": "Prometheus",
                  "value": "Prometheus"
                },
                "hide": 0,
                "includeAll": false,
                "label": "Prometheus",
                "multi": false,
                "name": "Source",
                "options": [],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "type": "datasource"
              },
              {
                "allValue": ".+",
                "current": {
                  "selected": true,
                  "text": [
                    "All"
                  ],
                  "value": [
                    "$__all"
                  ]
                },
                "datasource": {
                  "type": "prometheus",
                  "uid": "PBFA97CFB590B2093"
                },
                "definition": "label_values(kube_pod_info{pod=~\".*worker.*\"}, namespace)",
                "hide": 0,
                "includeAll": true,
                "label": "Bluescape Instance (Namespace)",
                "multi": true,
                "name": "namespace",
                "options": [],
                "query": {
                  "query": "label_values(kube_pod_info{pod=~\".*worker.*\"}, namespace)",
                  "refId": "Prometheus-namespace-Variable-Query"
                },
                "refresh": 1,
                "regex": ".+",
                "skipUrlSync": false,
                "sort": 0,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allValue": ".*",
                "current": {
                  "selected": true,
                  "text": [
                    "All"
                  ],
                  "value": [
                    "$__all"
                  ]
                },
                "datasource": {
                  "type": "prometheus",
                  "uid": "PBFA97CFB590B2093"
                },
                "definition": "label_values(kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"}, node_name)",
                "hide": 0,
                "includeAll": true,
                "label": "Worker Node",
                "multi": true,
                "name": "node_name",
                "options": [],
                "query": {
                  "query": "label_values(kube_pod_info{pod=~\".*worker.*\", namespace=~\"${namespace}\"}, node_name)",
                  "refId": "Prometheus-node_name-Variable-Query"
                },
                "refresh": 1,
                "regex": ".+",
                "skipUrlSync": false,
                "sort": 0,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allValue": ".*",
                "current": {
                  "selected": true,
                  "text": [
                    "All"
                  ],
                  "value": [
                    "$__all"
                  ]
                },
                "datasource": {
                  "type": "prometheus",
                  "uid": "PBFA97CFB590B2093"
                },
                "definition": "label_values(workerStatus{namespace=~\"${namespace}\"}, pod)",
                "hide": 2,
                "includeAll": true,
                "label": "Worker Node",
                "multi": true,
                "name": "pod",
                "options": [],
                "query": {
                  "query": "label_values(workerStatus{namespace=~\"${namespace}\"}, pod)",
                  "refId": "StandardVariableQuery"
                },
                "refresh": 1,
                "regex": ".+",
                "skipUrlSync": false,
                "sort": 0,
                "tagValuesQuery": "",
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              }
            ]
          },
          "time": {
            "from": "now-1h",
            "to": "now"
          },
          "timepicker": {
            "refresh_intervals": [
              "5s",
              "10s",
              "30s",
              "1m",
              "5m",
              "15m",
              "30m",
              "1h",
              "2h",
              "1d"
            ]
          },
          "timezone": "browser",
          "title": "Application / Worker Service",
          "uid": "9e7fd88bc04444e0aa68a6c582621650c392e317",
          "version": 5,
          "weekStart": ""
        }